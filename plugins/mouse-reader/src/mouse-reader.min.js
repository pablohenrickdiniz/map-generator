(function(c){var a=c.AppObject;var b=function(e){var d=this;d.leftdown=[];d.rightdown=[];d.middledown=[];d.leftup=[];d.rightup=[];d.middleup=[];d.mousemove=[];d.mouseout=[];d.mouseenter=[];d.element=null;d.initialize();a.call(d);b.bindProperties.apply(d);d.set(e)};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.bindProperties=function(){var d=this;d._beforeSet("element",function(e,f){$(e).unbind("mousemove");$(e).unbind("mousedown");$(e).unbind("mousewheel");$(e).unbind("mouseout");$(e).unbind("mouseenter");return f});d._onChange("element",function(f){d.initializeVars();$(f).on("mousemove",function(i){i.preventDefault();var j=i.target;var h=i.offsetX;var k=i.offsetY;d.lastMove={x:h,y:k};d.mousemove.forEach(function(l){l.apply(d,[i])})});$(f).on("mousedown",function(h){h.preventDefault();var i={x:h.offsetX,y:h.offsetY};switch(h.which){case 1:d.left=true;d.lastdown.left=i;d.leftdown.forEach(function(j){j.apply(d,[h])});break;case 2:d.middle=true;d.lastdown.middle=i;d.middledown.forEach(function(j){j.apply(d,[h])});break;case 3:d.right=true;d.lastdown.right=i;d.rightdown.forEach(function(j){j.apply(d,[h])})}});$(f).on("mouseout",function(h){h.preventDefault();d.left=false;d.right=false;d.middle=false;d.mouseout.forEach(function(i){i.apply(d,[h])})});$(f).on("mouseenter",function(h){h.preventDefault();d.mouseenter.forEach(function(i){i.apply(d,[h])})});var g=function(h){h.preventDefault();d.lastwheel=h.detail?h.detail*(-120):h.wheelDelta;d.mousewheel.forEach(function(i){i.apply(d,[h])})};var e=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";$(f).on(e,g)})};b.prototype.initializeVars=function(){var d=this;d.left=false;d.middle=false;d.right=false;d.lastdown={left:{x:0,y:0},right:{x:0,y:0},middle:{x:0,y:0}};d.lastup={left:{x:0,y:0},right:{x:0,y:0},middle:{x:0,y:0}};d.lastMove={x:0,y:0};d.lastwheel=0;d.mousewheel=[]};b.prototype.initialize=function(){var d=this;d.initializeVars();$(document).mouseup(function(e){e.preventDefault();if(d.element!==null){var f={x:e.offsetX,y:e.offsetY};switch(e.which){case 1:d.left=false;d.lastup.left=f;d.leftup.forEach(function(g){g.apply(d,[e])});break;case 2:d.middle=false;d.lastup.middle=f;d.middleup.forEach(function(g){g.apply(d,[e])});break;case 3:d.right=false;d.lastup.right=f;d.rightup.forEach(function(g){g.apply(d,[e])})}}})};b.prototype.onmousewheel=function(e){var d=this;d.mousewheel.push(e)};b.prototype.onmousedown=function(e,f){var d=this;switch(e){case 1:d.leftdown.push(f);break;case 2:d.middledown.push(f);break;case 3:d.rightdown.push(f)}};b.prototype.onmouseup=function(e,f){var d=this;switch(e){case 1:d.leftup.push(f);break;case 2:d.middleup.push(f);break;case 3:d.rightup.push(f)}};b.prototype.onmousemove=function(e){var d=this;d.mousemove.push(e)};b.prototype.onmouseout=function(e){var d=this;d.mouseout.push(e)};b.prototype.onmouseenter=function(e){var d=this;d.mouseenter.push(e)};b.LEFT=1;b.MIDDLE=2;b.RIGHT=3;c.MouseReader=b})(window);